# Streaming Events API

When you create a Response with `stream` set to `true`, the server will emit server-sent events to the client as the Response is generated. This section contains the events that are emitted by the server.

Learn more about [streaming responses](https://platform.openai.com/docs/guides/streaming).

## Table of Contents

- [Response Events](#response-events)
  - [response.created](#responsecreated)
  - [response.in_progress](#responsein_progress)
  - [response.completed](#responsecompleted)
  - [response.failed](#responsefailed)
  - [response.incomplete](#responseincomplete)
- [Output Events](#output-events)
  - [response.output_item.added](#responseoutput_itemadded)
  - [response.output_item.done](#responseoutput_itemdone)
- [Content Events](#content-events)
  - [response.content_part.added](#responsecontent_partadded)
  - [response.content_part.done](#responsecontent_partdone)
- [Text Events](#text-events)
  - [response.output_text.delta](#responseoutput_textdelta)
  - [response.output_text.done](#responseoutput_textdone)
- [Tool Call Events](#tool-call-events)
- [Error Events](#error-events)

## Response Events

### response.created

An event that is emitted when a response is created.

**Properties:**

| Property          | Type      | Description                        |
| ----------------- | --------- | ---------------------------------- |
| `type`            | `string`  | Always `"response.created"`        |
| `response`        | `object`  | The response that was created      |
| `sequence_number` | `integer` | The sequence number for this event |

#### Response Object Properties:

- `id` (string): Unique identifier for this Response
- `object` (string): Always `"response"`
- `created_at` (number): Unix timestamp (in seconds) of when this Response was created
- `status` (string): One of `completed`, `failed`, `in_progress`, `cancelled`, `queued`, or `incomplete`
- `error` (object or null): An error object returned when the model fails to generate a Response
- `model` (string): Model ID used to generate the response
- `output` (array): An array of content items generated by the model
- `usage` (object or null): Token usage details

**Example:**

```json
{
  "type": "response.created",
  "response": {
    "id": "resp_67ccfcdd16748190a91872c75d38539e09e4d4aac714747c",
    "object": "response",
    "created_at": 1741487325,
    "status": "in_progress",
    "error": null,
    "incomplete_details": null,
    "instructions": null,
    "max_output_tokens": null,
    "model": "gpt-4o-2024-08-06",
    "output": [],
    "parallel_tool_calls": true,
    "previous_response_id": null,
    "reasoning": {
      "effort": null,
      "summary": null
    },
    "store": true,
    "temperature": 1,
    "text": {
      "format": {
        "type": "text"
      }
    },
    "tool_choice": "auto",
    "tools": [],
    "top_p": 1,
    "truncation": "disabled",
    "usage": null,
    "user": null,
    "metadata": {}
  },
  "sequence_number": 1
}
```

### response.in_progress

Emitted when the response is in progress.

**Properties:**

| Property          | Type      | Description                       |
| ----------------- | --------- | --------------------------------- |
| `type`            | `string`  | Always `"response.in_progress"`   |
| `response`        | `object`  | The response that is in progress  |
| `sequence_number` | `integer` | The sequence number of this event |

### response.completed

Emitted when the model response is complete.

**Properties:**

| Property          | Type      | Description                          |
| ----------------- | --------- | ------------------------------------ |
| `type`            | `string`  | Always `"response.completed"`        |
| `response`        | `object`  | Properties of the completed response |
| `sequence_number` | `integer` | The sequence number for this event   |

**Example:**

```json
{
  "type": "response.completed",
  "response": {
    "id": "resp_123",
    "object": "response",
    "created_at": 1740855869,
    "status": "completed",
    "error": null,
    "incomplete_details": null,
    "input": [],
    "instructions": null,
    "max_output_tokens": null,
    "model": "gpt-4o-mini-2024-07-18",
    "output": [
      {
        "id": "msg_123",
        "type": "message",
        "role": "assistant",
        "content": [
          {
            "type": "output_text",
            "text": "In a shimmering forest under a sky full of stars...",
            "annotations": []
          }
        ]
      }
    ],
    "usage": {
      "input_tokens": 0,
      "output_tokens": 0,
      "output_tokens_details": {
        "reasoning_tokens": 0
      },
      "total_tokens": 0
    }
  },
  "sequence_number": 1
}
```

### response.failed

An event that is emitted when a response fails.

**Properties:**

| Property          | Type      | Description                       |
| ----------------- | --------- | --------------------------------- |
| `type`            | `string`  | Always `"response.failed"`        |
| `response`        | `object`  | The response that failed          |
| `sequence_number` | `integer` | The sequence number of this event |

### response.incomplete

An event that is emitted when a response finishes as incomplete.

**Properties:**

| Property          | Type      | Description                       |
| ----------------- | --------- | --------------------------------- |
| `type`            | `string`  | Always `"response.incomplete"`    |
| `response`        | `object`  | The response that was incomplete  |
| `sequence_number` | `integer` | The sequence number of this event |

## Output Events

### response.output_item.added

Emitted when a new output item is added.

**Properties:**

| Property          | Type      | Description                                 |
| ----------------- | --------- | ------------------------------------------- |
| `type`            | `string`  | Always `"response.output_item.added"`       |
| `item`            | `object`  | The output item that was added              |
| `output_index`    | `integer` | The index of the output item that was added |
| `sequence_number` | `integer` | The sequence number of this event           |

### response.output_item.done

Emitted when an output item is marked done.

**Properties:**

| Property          | Type      | Description                                       |
| ----------------- | --------- | ------------------------------------------------- |
| `type`            | `string`  | Always `"response.output_item.done"`              |
| `item`            | `object`  | The output item that was marked done              |
| `output_index`    | `integer` | The index of the output item that was marked done |
| `sequence_number` | `integer` | The sequence number of this event                 |

## Content Events

### response.content_part.added

Emitted when a new content part is added.

**Properties:**

| Property          | Type      | Description                                                  |
| ----------------- | --------- | ------------------------------------------------------------ |
| `type`            | `string`  | Always `"response.content_part.added"`                       |
| `content_index`   | `integer` | The index of the content part that was added                 |
| `item_id`         | `string`  | The ID of the output item that the content part was added to |
| `output_index`    | `integer` | The index of the output item                                 |
| `part`            | `object`  | The content part that was added                              |
| `sequence_number` | `integer` | The sequence number of this event                            |

### response.content_part.done

Emitted when a content part is done.

**Properties:**

| Property          | Type      | Description                                |
| ----------------- | --------- | ------------------------------------------ |
| `type`            | `string`  | Always `"response.content_part.done"`      |
| `content_index`   | `integer` | The index of the content part that is done |
| `item_id`         | `string`  | The ID of the output item                  |
| `output_index`    | `integer` | The index of the output item               |
| `part`            | `object`  | The content part that is done              |
| `sequence_number` | `integer` | The sequence number of this event          |

## Text Events

### response.output_text.delta

Emitted when there is an additional text delta.

**Properties:**

| Property          | Type      | Description                                      |
| ----------------- | --------- | ------------------------------------------------ |
| `type`            | `string`  | Always `"response.output_text.delta"`            |
| `content_index`   | `integer` | The index of the content part                    |
| `delta`           | `string`  | The text delta that was added                    |
| `item_id`         | `string`  | The ID of the output item                        |
| `logprobs`        | `array`   | The log probabilities of the tokens in the delta |
| `output_index`    | `integer` | The index of the output item                     |
| `sequence_number` | `integer` | The sequence number for this event               |

**Example:**

```json
{
  "type": "response.output_text.delta",
  "item_id": "msg_123",
  "output_index": 0,
  "content_index": 0,
  "delta": "In",
  "sequence_number": 1
}
```

### response.output_text.done

Emitted when text content is finalized.

**Properties:**

| Property          | Type      | Description                          |
| ----------------- | --------- | ------------------------------------ |
| `type`            | `string`  | Always `"response.output_text.done"` |
| `content_index`   | `integer` | The index of the content part        |
| `item_id`         | `string`  | The ID of the output item            |
| `logprobs`        | `array`   | The log probabilities of the tokens  |
| `output_index`    | `integer` | The index of the output item         |
| `sequence_number` | `integer` | The sequence number for this event   |
| `text`            | `string`  | The text content that is finalized   |

## Tool Call Events

### File Search Events

#### response.file_search_call.in_progress

Emitted when a file search call is initiated.

**Properties:**

| Property          | Type      | Description                                      |
| ----------------- | --------- | ------------------------------------------------ |
| `type`            | `string`  | Always `"response.file_search_call.in_progress"` |
| `item_id`         | `string`  | The ID of the output item                        |
| `output_index`    | `integer` | The index of the output item                     |
| `sequence_number` | `integer` | The sequence number of this event                |

#### response.file_search_call.searching

Emitted when a file search is currently searching.

#### response.file_search_call.completed

Emitted when a file search call is completed (results found).

### Web Search Events

#### response.web_search_call.in_progress

Emitted when a web search call is initiated.

**Properties:**

| Property          | Type      | Description                                     |
| ----------------- | --------- | ----------------------------------------------- |
| `type`            | `string`  | Always `"response.web_search_call.in_progress"` |
| `item_id`         | `string`  | Unique ID for the output item                   |
| `output_index`    | `integer` | The index of the output item                    |
| `sequence_number` | `integer` | The sequence number                             |

#### response.web_search_call.searching

Emitted when a web search call is executing.

#### response.web_search_call.completed

Emitted when a web search call is completed.

### Function Call Events

#### response.function_call_arguments.delta

Emitted when there is a partial function-call arguments delta.

**Properties:**

| Property          | Type      | Description                                       |
| ----------------- | --------- | ------------------------------------------------- |
| `type`            | `string`  | Always `"response.function_call_arguments.delta"` |
| `delta`           | `string`  | The function-call arguments delta                 |
| `item_id`         | `string`  | The ID of the output item                         |
| `output_index`    | `integer` | The index of the output item                      |
| `sequence_number` | `integer` | The sequence number of this event                 |

#### response.function_call_arguments.done

Emitted when function-call arguments are finalized.

### Image Generation Events

#### response.image_generation_call.in_progress

Emitted when an image generation tool call is in progress.

#### response.image_generation_call.generating

Emitted when an image generation tool call is actively generating an image.

#### response.image_generation_call.partial_image

Emitted when a partial image is available during image generation streaming.

**Properties:**

| Property              | Type      | Description                                             |
| --------------------- | --------- | ------------------------------------------------------- |
| `type`                | `string`  | Always `"response.image_generation_call.partial_image"` |
| `item_id`             | `string`  | The unique identifier of the item                       |
| `output_index`        | `integer` | The index of the output item                            |
| `partial_image_b64`   | `string`  | Base64-encoded partial image data                       |
| `partial_image_index` | `integer` | 0-based index for the partial image                     |
| `sequence_number`     | `integer` | The sequence number                                     |

#### response.image_generation_call.completed

Emitted when an image generation tool call has completed and the final image is available.

### Code Interpreter Events

#### response.code_interpreter_call.in_progress

Emitted when a code interpreter call is in progress.

#### response.code_interpreter_call.interpreting

Emitted when the code interpreter is actively interpreting the code snippet.

#### response.code_interpreter_call.completed

Emitted when the code interpreter call is completed.

#### response.code_interpreter_call_code.delta

Emitted when a partial code snippet is streamed by the code interpreter.

#### response.code_interpreter_call_code.done

Emitted when the code snippet is finalized by the code interpreter.

### MCP (Model Context Protocol) Events

#### response.mcp_call.in_progress

Emitted when an MCP tool call is in progress.

#### response.mcp_call.completed

Emitted when an MCP tool call has completed successfully.

#### response.mcp_call.failed

Emitted when an MCP tool call has failed.

#### response.mcp_call_arguments.delta

Emitted when there is a delta (partial update) to the arguments of an MCP tool call.

#### response.mcp_call_arguments.done

Emitted when the arguments for an MCP tool call are finalized.

#### response.mcp_list_tools.in_progress

Emitted when the system is in the process of retrieving the list of available MCP tools.

#### response.mcp_list_tools.completed

Emitted when the list of available MCP tools has been successfully retrieved.

#### response.mcp_list_tools.failed

Emitted when the attempt to list available MCP tools has failed.

### Custom Tool Events

#### response.custom_tool_call_input.delta

Event representing a delta (partial update) to the input of a custom tool call.

**Properties:**

| Property          | Type      | Description                                      |
| ----------------- | --------- | ------------------------------------------------ |
| `type`            | `string`  | Always `"response.custom_tool_call_input.delta"` |
| `delta`           | `string`  | The incremental input data (delta)               |
| `item_id`         | `string`  | Unique identifier for the API item               |
| `output_index`    | `integer` | The index of the output                          |
| `sequence_number` | `integer` | The sequence number of this event                |

#### response.custom_tool_call_input.done

Event indicating that input for a custom tool call is complete.

## Reasoning Events

### response.reasoning_summary_part.added

Emitted when a new reasoning summary part is added.

**Properties:**

| Property          | Type      | Description                                      |
| ----------------- | --------- | ------------------------------------------------ |
| `type`            | `string`  | Always `"response.reasoning_summary_part.added"` |
| `item_id`         | `string`  | The ID of the item                               |
| `output_index`    | `integer` | The index of the output item                     |
| `part`            | `object`  | The summary part that was added                  |
| `sequence_number` | `integer` | The sequence number of this event                |
| `summary_index`   | `integer` | The index of the summary part                    |

### response.reasoning_summary_part.done

Emitted when a reasoning summary part is completed.

### response.reasoning_summary_text.delta

Emitted when a delta is added to a reasoning summary text.

### response.reasoning_summary_text.done

Emitted when a reasoning summary text is completed.

### response.reasoning_text.delta

Emitted when a delta is added to a reasoning text.

### response.reasoning_text.done

Emitted when a reasoning text is completed.

## Refusal Events

### response.refusal.delta

Emitted when there is a partial refusal text.

**Properties:**

| Property          | Type      | Description                       |
| ----------------- | --------- | --------------------------------- |
| `type`            | `string`  | Always `"response.refusal.delta"` |
| `content_index`   | `integer` | The index of the content part     |
| `delta`           | `string`  | The refusal text that is added    |
| `item_id`         | `string`  | The ID of the output item         |
| `output_index`    | `integer` | The index of the output item      |
| `sequence_number` | `integer` | The sequence number of this event |

### response.refusal.done

Emitted when refusal text is finalized.

## Other Events

### response.queued

Emitted when a response is queued and waiting to be processed.

**Properties:**

| Property          | Type      | Description                             |
| ----------------- | --------- | --------------------------------------- |
| `type`            | `string`  | Always `"response.queued"`              |
| `response`        | `object`  | The full response object that is queued |
| `sequence_number` | `integer` | The sequence number for this event      |

### response.output_text.annotation.added

Emitted when an annotation is added to output text content.

**Properties:**

| Property           | Type      | Description                                      |
| ------------------ | --------- | ------------------------------------------------ |
| `type`             | `string`  | Always `"response.output_text.annotation.added"` |
| `annotation`       | `object`  | The annotation object being added                |
| `annotation_index` | `integer` | The index of the annotation                      |
| `content_index`    | `integer` | The index of the content part                    |
| `item_id`          | `string`  | The unique identifier of the item                |
| `output_index`     | `integer` | The index of the output item                     |
| `sequence_number`  | `integer` | The sequence number of this event                |

## Error Events

### error

Emitted when an error occurs.

**Properties:**

| Property          | Type               | Description                       |
| ----------------- | ------------------ | --------------------------------- |
| `type`            | `string`           | Always `"error"`                  |
| `code`            | `string` or `null` | The error code                    |
| `message`         | `string`           | The error message                 |
| `param`           | `string` or `null` | The error parameter               |
| `sequence_number` | `integer`          | The sequence number of this event |

**Example:**

```json
{
  "type": "error",
  "code": "ERR_SOMETHING",
  "message": "Something went wrong",
  "param": null,
  "sequence_number": 1
}
```

## Data Types

### Response Object

The response object contains information about the AI model's response.

**Properties:**

- `id` (string): Unique identifier for this Response
- `object` (string): Always `"response"`
- `created_at` (number): Unix timestamp (in seconds)
- `status` (string): Response status
- `error` (object or null): Error information if failed
- `incomplete_details` (object or null): Details about why incomplete
- `instructions` (string or array): System/developer message
- `model` (string): Model ID used
- `output` (array): Array of content items generated
- `metadata` (map): Key-value pairs for additional information
- `usage` (object): Token usage details

### Output Types

Output items can be one of several types:

- **OutputMessage**: A message from the assistant
- **FileSearchToolCall**: Results of a file search
- **FunctionToolCall**: A function call
- **WebSearchToolCall**: Results of a web search
- **ComputerToolCall**: A computer use tool call
- **ReasoningOutput**: Chain of thought reasoning
- **ImageGenerationCall**: Image generation request
- **CodeInterpreterToolCall**: Code execution
- **LocalShellCall**: Local shell command execution
- **MCPToolCall**: MCP server tool invocation
- **CustomToolCall**: Custom tool call

### Content Types

Content parts within messages can include:

- **OutputText**: Text output with optional annotations
- **Refusal**: Model refusal to respond
- **Annotations**: File citations, URL citations, container file citations, or file paths

### Tool Configuration

Tools available for the model include:

- **Function**: Custom functions defined by the user
- **File Search**: Search through uploaded files
- **Web Search**: Search the internet
- **Computer Use**: Control a virtual computer
- **Code Interpreter**: Execute Python code
- **Image Generation**: Generate images
- **Local Shell**: Execute shell commands
- **MCP Tools**: Model Context Protocol integrations
- **Custom Tools**: User-defined custom tools

## Usage Example

Here's how to handle streaming events in JavaScript/TypeScript:

```typescript
// Parse server-sent events
const response = await fetch('/v1/responses', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${apiKey}`
  },
  body: JSON.stringify({
    model: 'gpt-4o',
    messages: [...],
    stream: true
  })
});

const reader = response.body.getReader();
const decoder = new TextDecoder();

while (true) {
  const { done, value } = await reader.read();
  if (done) break;

  const chunk = decoder.decode(value);
  const lines = chunk.split('\n');

  for (const line of lines) {
    if (line.startsWith('data: ')) {
      const jsonStr = line.slice(6);
      if (jsonStr === '[DONE]') {
        console.log('Stream completed');
        break;
      }

      try {
        const event = JSON.parse(jsonStr);

        switch (event.type) {
          case 'response.output_text.delta':
            // Append text delta to output
            console.log('Text delta:', event.delta);
            break;

          case 'response.completed':
            // Response is complete
            console.log('Response completed:', event.response);
            break;

          case 'error':
            // Handle error
            console.error('Error:', event.message);
            break;

          default:
            // Handle other event types
            console.log('Event:', event.type);
        }
      } catch (e) {
        console.error('Failed to parse event:', e);
      }
    }
  }
}
```

## See Also

- [Responses API Documentation](https://platform.openai.com/docs/api-reference/responses)
- [Streaming Guide](https://platform.openai.com/docs/guides/streaming)
- [Built-in Tools](https://platform.openai.com/docs/guides/tools)
- [Model Context Protocol (MCP)](https://platform.openai.com/docs/guides/mcp)
